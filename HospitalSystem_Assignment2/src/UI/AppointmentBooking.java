/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JPanel.java to edit this template
 */
package UI;

import Model.HospitalDetails;
import Model.HospitalEntry;
import Model.HospitalEntryHistory;
import javax.swing.DefaultComboBoxModel;
import javax.swing.JOptionPane;

/**
 *
 * @author bhakti
 */
public class AppointmentBooking extends javax.swing.JPanel {

    /**
     * Creates new form AppointmentBooking
     */
    HospitalEntryHistory HospitalHistory;
    public AppointmentBooking(HospitalEntryHistory HospitalHistory) {
        initComponents();
        this.HospitalHistory = HospitalHistory;
        populateCityBox();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jLabel1 = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        ComboBoxHospital = new javax.swing.JComboBox<>();
        ComboBoxCity = new javax.swing.JComboBox<>();
        ComboBoxDoctor = new javax.swing.JComboBox<>();
        btnBookAppointment = new javax.swing.JButton();
        jLabel5 = new javax.swing.JLabel();
        ComboBoxCommunity = new javax.swing.JComboBox<>();

        setBackground(new java.awt.Color(204, 204, 255));

        jLabel1.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        jLabel1.setForeground(new java.awt.Color(0, 102, 102));
        jLabel1.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel1.setText("Book an Appointment");

        jLabel2.setForeground(new java.awt.Color(0, 102, 102));
        jLabel2.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        jLabel2.setText("Select Doctor:");

        jLabel3.setForeground(new java.awt.Color(0, 102, 102));
        jLabel3.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        jLabel3.setText("Select City:");

        jLabel4.setForeground(new java.awt.Color(0, 102, 102));
        jLabel4.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        jLabel4.setText("Select Hospital:");

        ComboBoxHospital.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));
        ComboBoxHospital.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ComboBoxHospitalActionPerformed(evt);
            }
        });

        ComboBoxCity.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));
        ComboBoxCity.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ComboBoxCityActionPerformed(evt);
            }
        });

        ComboBoxDoctor.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));

        btnBookAppointment.setBackground(new java.awt.Color(204, 204, 255));
        btnBookAppointment.setFont(new java.awt.Font("Times New Roman", 1, 14)); // NOI18N
        btnBookAppointment.setForeground(new java.awt.Color(0, 102, 102));
        btnBookAppointment.setText("Book Appointment");
        btnBookAppointment.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnBookAppointmentActionPerformed(evt);
            }
        });

        jLabel5.setForeground(new java.awt.Color(0, 102, 102));
        jLabel5.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        jLabel5.setText("Select Community:");

        ComboBoxCommunity.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));
        ComboBoxCommunity.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ComboBoxCommunityActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel1, javax.swing.GroupLayout.DEFAULT_SIZE, 594, Short.MAX_VALUE)
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(layout.createSequentialGroup()
                                .addGap(52, 52, 52)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 120, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 120, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(50, 50, 50)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(btnBookAppointment, javax.swing.GroupLayout.PREFERRED_SIZE, 154, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(ComboBoxHospital, 0, 190, Short.MAX_VALUE)
                                    .addComponent(ComboBoxDoctor, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                            .addGroup(layout.createSequentialGroup()
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(layout.createSequentialGroup()
                                        .addGap(70, 70, 70)
                                        .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 102, javax.swing.GroupLayout.PREFERRED_SIZE))
                                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                                        .addGap(48, 48, 48)
                                        .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 124, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                .addGap(50, 50, 50)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(ComboBoxCity, 0, 198, Short.MAX_VALUE)
                                    .addComponent(ComboBoxCommunity, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap())
        );

        layout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {ComboBoxCity, ComboBoxCommunity, ComboBoxDoctor, ComboBoxHospital});

        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(30, 30, 30)
                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 35, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(35, 35, 35)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(ComboBoxCity, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(ComboBoxCommunity, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(12, 12, 12)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(ComboBoxHospital, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(12, 12, 12)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(ComboBoxDoctor, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addComponent(btnBookAppointment, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(89, Short.MAX_VALUE))
        );

        layout.linkSize(javax.swing.SwingConstants.VERTICAL, new java.awt.Component[] {ComboBoxCity, ComboBoxCommunity, ComboBoxDoctor, ComboBoxHospital});

    }// </editor-fold>//GEN-END:initComponents

    private void ComboBoxCityActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ComboBoxCityActionPerformed
        // TODO add your handling code here:
        DefaultComboBoxModel CityList = (DefaultComboBoxModel) ComboBoxCity.getModel();
        for(int i=0;i<CityList.getSize();i++){
            DefaultComboBoxModel CommunityList = (DefaultComboBoxModel) ComboBoxCommunity.getModel();
            CommunityList.removeAllElements();
            for(HospitalEntry j:HospitalEntryHistory.getHospitalDetailsHistory()){
                
                if(CityList.getSelectedItem().equals(j.getCity())){
                    
                    if(CommunityList.getIndexOf(j.getCommunity()) == -1){
                        CommunityList.addElement(j.getCommunity());
                    }
                        
                    
                    
                }
            }
        }
    }//GEN-LAST:event_ComboBoxCityActionPerformed

    private void ComboBoxCommunityActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ComboBoxCommunityActionPerformed
        // TODO add your handling code here:
        DefaultComboBoxModel CommunityList = (DefaultComboBoxModel) ComboBoxCommunity.getModel();
        for(int i=0;i<CommunityList.getSize();i++){
            DefaultComboBoxModel HospitalList = (DefaultComboBoxModel) ComboBoxHospital.getModel();
            HospitalList.removeAllElements();
            for(HospitalEntry j:HospitalEntryHistory.getHospitalDetailsHistory()){
                if(CommunityList.getSelectedItem().equals(j.getCommunity())){
                    if(HospitalList.getIndexOf(j.getHospital()) == -1){
                        HospitalList.addElement(j.getHospital());
                    }
                }
            }
            
            
        }
    }//GEN-LAST:event_ComboBoxCommunityActionPerformed

    private void ComboBoxHospitalActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ComboBoxHospitalActionPerformed
        // TODO add your handling code here:
        DefaultComboBoxModel HospitalList = (DefaultComboBoxModel) ComboBoxHospital.getModel();
        for(int i=0;i<HospitalList.getSize();i++){
            DefaultComboBoxModel DoctorsList = (DefaultComboBoxModel) ComboBoxDoctor.getModel();
            DoctorsList.removeAllElements();
            for(HospitalEntry j:HospitalEntryHistory.getHospitalDetailsHistory()){
                if(HospitalList.getSelectedItem().equals(j.getHospital())){
                    if(DoctorsList.getIndexOf(j.getDoctor()) == -1){
                        DoctorsList.addElement(j.getDoctor());
                    }
                }
            }
            
            
        }
    }//GEN-LAST:event_ComboBoxHospitalActionPerformed

    private void btnBookAppointmentActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnBookAppointmentActionPerformed
        // TODO add your handling code here:
        JOptionPane.showMessageDialog(this, "Appointment is Booked");
    }//GEN-LAST:event_btnBookAppointmentActionPerformed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JComboBox<String> ComboBoxCity;
    private javax.swing.JComboBox<String> ComboBoxCommunity;
    private javax.swing.JComboBox<String> ComboBoxDoctor;
    private javax.swing.JComboBox<String> ComboBoxHospital;
    private javax.swing.JButton btnBookAppointment;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    // End of variables declaration//GEN-END:variables

    private void populateCityBox() {
        DefaultComboBoxModel CityList = (DefaultComboBoxModel) ComboBoxCity.getModel();
        CityList.removeAllElements();
        for(String s:HospitalEntryHistory.getCities()){
            if(CityList.getIndexOf(s) == -1){
                CityList.addElement(s);
                
            }
            
        }
        
    }
}
